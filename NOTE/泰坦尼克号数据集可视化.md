# 泰坦尼克号数据集可视化

#### 总体生还几率：

```python
total_data=train['Survived'].value_counts()  
plt.figure(figsize=(8,8))
plt.pie(total_data,autopct='%.2f%%',labels=['死亡','存活'],colors=['r','g'],pctdistance=0.4,labeldistance=0.6,shadow=True,explode=[0,0.1],textprops=dict(size=15))
plt.title('总体生还率')
Text=(0.5,1.0,'总体生还率')
plt.show()
```

<img src="C:\Users\神樱树屑狐狸\Desktop\Gitsaving\总_1.png" style="zoom:80%;" />

在统计的数据中，**超过一大半（将近62%）的乘客死亡**，泰坦尼克号沉船事故是和平时期最惨重的海难之一

#### 不同兄弟姐妹和配偶数量的乘客的生还率：

采用**重叠条形图**，便于**对比**

```python
#不同兄弟姐妹和配偶数量的乘客的生还率
SibSp_range=train['SibSp']
SibSp_num,_ =np.histogram(SibSp_range,range=[0,8],bins=9)
SibSp_survived=[]
for SibSp in range(0,9,1):
    survived_num=train.loc[(SibSp_range>=SibSp-1)&(SibSp_range<=SibSp)]['Survived'].sum()  #求和放到 survived_num 中
    SibSp_survived.append(survived_num)
print(SibSp_survived)
print(SibSp_num)
plt.figure(figsize=(12,6))
plt.bar(np.arange(0,9,1)+0.5,SibSp_num,width=1,label='总人数',alpha=0.7)  #alpha用来调透明度，使重合的两个条形图有对比
plt.bar(np.arange(0,9,1)+0.5,SibSp_survived,width=1,label='生还人数')
plt.xticks(range(0,9,1))
plt.yticks(range(0,610,20))
plt.xlabel('兄弟姐妹和配偶数量',position=(0.95,0),fontsize=15)
plt.ylabel('人数',position=(0,0.95),fontsize=15)
plt.title('不同兄弟姐妹和配偶数量的乘客的生还率')
plt.grid(True,linestyle=':',alpha=0.5)
plt.show()
```

![](C:\Users\神樱树屑狐狸\Desktop\Gitsaving\配偶姐妹兄弟1.png)

从图中可以看出大多数乘客都是单人或带少数伴侣，只有少量乘客带了较多伴侣

**单人的存活率比带少数伴侣的低**，或许是在逃难过程中得不到帮助，而带有少数伴侣的乘客可能在同伴的帮助下更快的抵达到安全的位置，从而幸存下来

![](C:\Users\神樱树屑狐狸\Desktop\Gitsaving\兄弟姐妹_1.png)

但在带了**较多伴侣的乘客中存活率又下降了**（如上图），这或许是在逃难过程中能帮到的人有限，在面临多个抉择时，往往只能择其中一二，伴侣过多时可能会因一时的混乱而不知所措，存活率降低

#### 生存者中的男女比例：

```python
Sex_count=train.groupby(by='Survived')['Sex'].value_counts()
for Sex in Sex_count.index:
    Sex_survived=Sex_count.loc[1]   #只选出生还者，后面再分生还者的性别
#print(Sex_survived)
plt.figure(figsize=(8,8))
plt.pie(Sex_survived,autopct='%.2f%%',labels=['女','男'],colors=['#FFB6C1','b'],pctdistance=0.4,labeldistance=0.6,shadow=True,explode=[0,0.1],textprops=dict(size=15))
plt.title('生存者中的男女比例')
Text=(0.5,1.0,'生存者中的男女比例')
plt.show()
```

<img src="C:\Users\神樱树屑狐狸\Desktop\Gitsaving\幸存者男女e_1.png" style="zoom:80%;" />

从上图可以看出幸存者中的女性是男性的**两倍还多**，再来看男女乘客各自的总人数：

![](C:\Users\神樱树屑狐狸\Desktop\Gitsaving\男女总1.png)

数据统计结果是**女性总人数为314，男性为577**

结合幸存者中的男女比例不难发现：**在女性总人数比男性少的情况下，幸存者中女性的人数比男性的多**。这说明在逃难时男人们让妇女优先得到了救助。

人性在灾难中往往会展现出善良和勇敢的一面。无论是本次分析的泰坦尼克号事故，还是亲身经历过的山洪、新冠疫情和身边大大小小的事情，我们都能看到人性的光芒在其中熠熠生辉。